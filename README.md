# wowtcg

概述：
1.用户登录，只需要用户起一个玩家名①，并选择一套牌②，这些信息会存储在redis中
2.当两个用户都选好以后进入对战③，之后异步刷新页面就会调用接口获取当前场上数据并更新画面（这个过程最好是能够在不影响用户操作的同时自动、定时进行）④
3.用户可以进行以下三个操作：
    1）抽卡：该操作会根据执行操作的用户、使用的卡组、卡组剩余卡牌随机抽取一张卡牌⑤
    2）横置或重置卡牌*：转换卡牌的横纵状态
    3）卡牌区域变更：实现卡牌位置的变化如 手牌区 -> 盟军区 -> 墓地 注：场上的区域即由若干有序线性表构成，必要的区域有：牌库（对于牌进入牌库需要特殊处理）、英雄（主要用于主宰英雄的使用）、资源、地域、持续技能、盟军（需要考虑结缚技能）、装备
4.对战中用户点击卡牌会在页面固定位置显示卡牌信息
5.对战的过程中所有的场上数据都存储在redis中
    redis中需要维护：场上各个区域卡牌信息、牌库剩余卡牌列表
6.需要一个重新开始对战的接口⑥

①用户信息注册接口：玩家名、使用套牌，初始化用户状态为空闲，此时用户可以选择使用的套牌、点击开始对战更改自己状态
②开始对战接口：更改玩家游戏状态————空闲、准备、对战中
③刷新页面接口：只有当玩家对战中才会从redis中获取用户当前对战场上数据进行前端渲染
④抽牌接口：通过玩家和牌库剩余卡牌随机抽取卡牌
⑤变更卡牌所在区域
⑥战斗结束接口：重置双方玩家状态为空闲、清空对战缓存

流程（未考虑特殊情况，仅为主流程）：
1.双方玩家访问游戏，并注册自己的信息，并选择使用的套牌；
    后台操作：随后用户信息被记录在redis的用户列表中
2.双方用户点击“准备”变更自己的状态为【准备】，当变更用户准备状态后若已有两个用户为准备状态则变更两个用户状态为【对战中】（这里只考虑两个用户使用的情况，暂不考虑匹配等因素）
3.当双方用户都为【对战中】状态时可以调用页面刷新接口，同时可以抽卡、变更卡牌位置等操作
4.想结束对战（暂不考虑对战结束、中途结束等因素），直接调用对战结束接口，重置双方状态为【空闲】，此时用户可以重选卡组，及重新进入准备